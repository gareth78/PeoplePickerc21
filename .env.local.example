okta-org-url=https://your-org.okta.com
okta-api-token=your_api_token_here
cache-type=memory
cache-ttl-seconds=600
NODE_ENV=development

# Microsoft Graph API (for profile photos)
ENTRA_TENANT_ID=your-tenant-id-here
ENTRA_CLIENT_ID=your-client-id-here
ENTRA_CLIENT_SECRET=your-client-secret-here

# Azure SQL Database (SQL Server)
# Format: sqlserver://username:password@your-server.database.windows.net:1433;database=peoplepicker;encrypt=true;trustServerCertificate=false;connectionTimeout=30;
DATABASE_URL="sqlserver://sqladmin:PASSWORD_HERE@peoplepickerc21-sql.database.windows.net:1433;database=peoplepicker;encrypt=true;trustServerCertificate=false;connectionTimeout=30;"

# Admin System Configuration
# JWT secret for session tokens (generate with: openssl rand -base64 32)
JWT_SECRET=your-secret-jwt-key-change-this-in-production

# Emergency "Break Glass" Access
# URL token (generate with: openssl rand -hex 32)
BREAK_GLASS_URL_TOKEN=your-url-token-change-this-in-production
# Emergency admin credentials
BREAK_GLASS_EMAIL=admin@yourdomain.com
BREAK_GLASS_PASSWORD=your-secure-password-change-this

# Azure AD / Entra ID Configuration (for normal admin authentication)
# When AZURE_AD_ENABLED=true, users must authenticate via Azure AD AND be in the admins table
AZURE_AD_ENABLED=true
NEXT_PUBLIC_AZURE_AD_CLIENT_ID=your-azure-ad-client-id
AZURE_AD_CLIENT_SECRET=your-azure-ad-client-secret
AZURE_AD_TENANT_ID=your-azure-ad-tenant-id
# The redirect URI registered in Azure AD (e.g., http://localhost:3000/api/auth/callback)
# NOTE: This is deprecated - the redirect URI is now automatically determined from BASE_URL
AZURE_AD_REDIRECT_URI=http://localhost:3000/api/auth/callback

# Base URL Configuration (REQUIRED for production)
# Set this to your production URL to ensure OAuth redirects work correctly
# The redirect URI will be automatically constructed as: ${BASE_URL}/api/auth/oauth/callback
# Examples:
#   Development: BASE_URL=http://localhost:3000
#   Production: BASE_URL=https://your-app.azurecontainerapps.io
# If not set, the app will try to determine the URL from request headers (X-Forwarded-Host, Host)
# but this may fail behind proxies, causing OAuth redirect URI mismatches
BASE_URL=
